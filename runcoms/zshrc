#
# This file is sourced by interactive shells. It should define aliases,
# functions, shell options, and key bindings.
#

###
# Don't touch this. Source Prezto.
###
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

########## Customizations Below Here ##################


###
# Keyboard shortcuts
###

bindkey \^U backward-kill-line # Mimic bash's CTRL + U functionality


###
# Prezto configuration
###

unsetopt correct # Disable command corrections
unalias rm # Disable confirm for rm

# "Prompt" Theme (`prompt -l` to list)
autoload -Uz promptinit
promptinit
prompt pure
# prompt sorin


###
# Autojump
# Install: `brew install autojump`
# https://github.com/wting/autojump
###
[ -f /usr/local/etc/profile.d/autojump.sh ] && . /usr/local/etc/profile.d/autojump.sh


###
# Kill whatever app is using port X
###
# alias killport="kill -9 $(listening | grep $1 | awk '{print $2}')"


###
# Kills the process listening on the port passed
# eg. killport 3333
###
killport() {
  port="$1"
  pid="$(lsof -P -n -iTCP -sTCP:LISTEN | grep $port | awk '{print $2}')"

  if [ "$pid" != "" ]; then
    kill -9 $pid
    # echo "Killed process ${pid} on port ${port}"
  else
    echo "Nothing to kill on port ${port}"
  fi
}

###
# The fuck
###
eval $(thefuck --alias)
# You can use whatever you want as an alias, like for Mondays:
eval $(thefuck --alias FUCK)



###
# Aliases and methods
###

alias ls='lsd' # Try new "cool" ls command

alias undo-last-commit="git reset --soft HEAD~1"

# Sublime
alias s='open -a "Sublime Text"'

# Block and unblock reddit
alias play="sudo workplay play"
alias work="sudo workplay work"

# Misc
alias c="clear"
alias listening="lsof -P -n -iTCP -sTCP:LISTEN"

# Enable aliases to be sudoâ€™ed
# alias sudo='sudo '

# Git
alias gs="git status"

# Fancy git log
alias glg="git log --graph --abbrev-commit --decorate --format=format:'%C(bold red)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(bold yellow)%d%C(reset)' --all"

# Git add no whitespace
alias gaddnw="git diff -U0 -w --no-color | git apply --cached --ignore-whitespace --unidiff-zero -"

alias gti="git" # Typos
alias g="git"
function ga() {
  git add .
  git commit -a -m "$1"
}

function gco() {
  git checkout $1 $2
}

function gsu() {
  git submodule update --init --recursive
}

function gp() {
  git pull
}

function gd() {
  git diff -w $1
}

function gb() {
  git branch
}

function gbd() {
  git branch -d $1
}

# Rails
alias r="rails"
alias h="heroku"

# Node
alias y="yarn"




###
# rbenv (better than RVM)
###
eval "$(rbenv init -)"


###
# NVM - MOVED TO .zshenv to fix sublimelinter tslint
##
# export NVM_DIR="$HOME/.nvm"
# [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm







